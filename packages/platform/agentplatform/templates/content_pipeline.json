{
  "_category": "content",
  "_tags": ["writing", "content", "marketing"],
  "_estimated_cost": "~$0.20",
  "id": "tpl_content_pipeline",
  "name": "Content Pipeline",
  "description": "3 agents that outline, draft, and polish written content (blog posts, articles, documentation).",
  "version": "1.0.0",
  "domain_pack": "codeos",
  "nodes": [
    {
      "id": "outliner",
      "role": "custom",
      "display_name": "Outliner",
      "position": {"x": 100, "y": 100},
      "config": {
        "model": "gpt-4o-mini",
        "system_prompt": "You are an outline agent. If useful, use web_search to gather background information. Create a detailed outline with section headings, key points per section, and target word counts. Save to outline.md using the file_write tool.",
        "persona_preset": "analytical",
        "tools": ["file_write", "web_search"],
        "budget": {"max_tokens": 10000, "max_tool_calls": 8, "max_time_seconds": 60.0, "max_recursion_depth": 1},
        "max_steps": 10,
        "advanced": null
      }
    },
    {
      "id": "drafter",
      "role": "custom",
      "display_name": "Drafter",
      "position": {"x": 400, "y": 100},
      "config": {
        "model": "gpt-4o-mini",
        "system_prompt": "You are a drafting agent. Read outline.md using file_read, then write a complete first draft following the structure and hitting all target points. Save to draft.md using file_write.",
        "persona_preset": "creative",
        "tools": ["file_read", "file_write"],
        "budget": {"max_tokens": 30000, "max_tool_calls": 10, "max_time_seconds": 180.0, "max_recursion_depth": 1},
        "max_steps": 15,
        "advanced": null
      }
    },
    {
      "id": "editor",
      "role": "custom",
      "display_name": "Editor",
      "position": {"x": 700, "y": 100},
      "config": {
        "model": "gpt-4o-mini",
        "system_prompt": "You are an editing agent. Read draft.md using file_read. Improve clarity, fix grammar, enhance flow, and ensure consistency. Save the polished final version to final.md using file_write.",
        "persona_preset": "formal",
        "tools": ["file_read", "file_write"],
        "budget": {"max_tokens": 20000, "max_tool_calls": 10, "max_time_seconds": 120.0, "max_recursion_depth": 1},
        "max_steps": 15,
        "advanced": null
      }
    }
  ],
  "edges": [
    {"source": "outliner", "target": "drafter", "data_contract": {"output_schema": {"type": "object", "required": ["file"], "properties": {"file": {"const": "outline.md"}}}, "input_schema": null}},
    {"source": "drafter", "target": "editor", "data_contract": {"output_schema": {"type": "object", "required": ["file"], "properties": {"file": {"const": "draft.md"}}}, "input_schema": null}}
  ],
  "variables": [
    {"name": "content_type", "type": "string", "default": "blog post", "description": "Type of content to create"},
    {"name": "topic", "type": "string", "default": "", "description": "Topic or title for the content"}
  ],
  "created_at": "2025-01-01T00:00:00+00:00",
  "updated_at": "2025-01-01T00:00:00+00:00",
  "template_source": null
}
